(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09b44f9e"],{"05f9":function(t,e,a){},b36c:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchList"},[a("search-nav",{ref:"container"}),a("van-sticky",[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:t.option1},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),a("van-dropdown-item",{attrs:{options:t.option2},on:{change:t.onChange},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1)],1),a("div",{staticClass:"search-contain"},t._l(t.shopList,(function(e,o){return a("van-card",{key:o,attrs:{price:e.price,"origin-price":e.old_price,title:e.goods_name,thumb:e.image},on:{click:function(a){return t.toDetail(e.goods_id)}},scopedSlots:t._u([{key:"num",fn:function(){return[t._v(" 已售"+t._s(e.pay_num)+"件 ")]},proxy:!0},{key:"tags",fn:function(){return["1"==e.freight_type?a("van-tag",{attrs:{color:"#ff3574"}},[t._v("包邮")]):t._e(),"0"==e.is_self&&e.is_vip<="2"?a("van-tag",{attrs:{color:"#ff3574"}},[t._v("自营")]):t._e()]},proxy:!0}],null,!0)})})),1),a("van-pagination",{attrs:{"page-count":t.totalPages,mode:"simple"},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},n=[],s=a("c98d"),i=a("4328"),r=a.n(i),u={name:"searchList",components:{SearchNav:s["default"]},data:function(){return{value1:0,value2:"a",option1:[{text:"全部商品",value:0},{text:"新款商品",value:1},{text:"活动商品",value:2}],option2:[{text:"默认排序",value:"a"},{text:"价格最低",value:"b"},{text:"价格最高",value:"c"},{text:"销量最低",value:"d"},{text:"销量最高",value:"e"}],shopList:[],currentPage:1,totalPages:1,cid:""}},methods:{onChange:function(t){"b"==t||"d"==t?(this.order=4,this.setData()):"c"==t?(this.order=3,this.setData()):"e"==t&&this.getData()},onPageChange:function(t){this.currentPage=t,this.setData()},toDetail:function(t){var e=this;this.$toast.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),setTimeout((function(){e.$toast.clear(),e.$router.push({name:"details",query:{goods_id:t}})}),500)},setData:function(){var t,e,a=this,o=this.$route.query;"keywords"in o?(t=t="https://api.ymduo.com/search/index",e=r.a.stringify({keywords:this.$route.query.keywords,order:this.order,p:this.currentPage})):(t=t="https://api.ymduo.com/category/goodsList",e=r.a.stringify({category_id:this.$route.query.category_id,order:this.order,p:this.currentPage})),this.axios({method:"post",url:t,data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:1e4}).then((function(t){console.log(t),a.shopList=t.data.result.data,a.totalPages=t.data.result.pages}))},getData:function(){var t,e=this,a=this.$route.query;t="keywords"in a?"https://api.ymduo.com/search/index":"https://api.ymduo.com/category/goodsList";var o=r.a.stringify(this.$route.query);this.axios({method:"post",url:t,data:o,headers:{"Content-Type":"application/x-www-form-urlencoded"},timeout:1e4}).then((function(t){e.shopList=t.data.result.data,e.totalPages=t.data.result.pages}))}},mounted:function(){this.$refs.container._data.hasCon=!1,this.getData()}},c=u,d=(a("b697"),a("2877")),l=Object(d["a"])(c,o,n,!1,null,"001c7fcf",null);e["default"]=l.exports},b697:function(t,e,a){"use strict";var o=a("05f9"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-09b44f9e.6b4d8a76.js.map